package main

import (
	"fmt"
)

/*ğŸš©ğŸš©æ–¹æ³•å’Œå‡½æ•°çš„åŒºåˆ«
1)è°ƒç”¨æ–¹å¼ä¸ä¸€æ ·
    å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼šå‡½æ•°å(å®å‚åˆ—è¡¨)
    æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ï¼šå˜é‡.æ–¹æ³•å(å®å‚åˆ—è¡¨ï¼‰
2)å¯¹äºæ™®é€šå‡½æ•°ï¼Œæ¥æ”¶è€…ä¸ºå€¼ç±»å‹æ—¶ï¼Œä¸èƒ½å°†æŒ‡é’ˆç±»å‹çš„æ•°æ®ç›´æ¥ä¼ é€’ï¼Œåä¹‹äº¦ç„¶
3)å¯¹äºæ–¹æ³•ï¼ˆå¦‚structçš„æ–¹æ³•ï¼‰ï¼Œæ¥æ”¶è€…ä¸ºå€¼ç±»å‹æ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨æŒ‡é’ˆç±»å‹çš„å˜é‡è°ƒç”¨æ–¹æ³•ï¼Œåè¿‡æ¥åŒæ ·ä¹Ÿå¯ä»¥
*/

type Person struct {
	Name string
}

//å‡½æ•°
//å¯¹äºæ™®é€šå‡½æ•°ï¼Œæ¥æ”¶è€…ä¸ºå€¼ç±»å‹æ—¶ï¼Œä¸èƒ½å°†æŒ‡é’ˆç±»å‹çš„æ•°æ®ç›´æ¥ä¼ é€’ï¼Œåä¹‹äº¦ç„¶

func test01(p Person) {
	fmt.Println(p.Name)
}

func test02(p *Person) {
	fmt.Println(p.Name)
}

//å¯¹äºæ–¹æ³•ï¼ˆå¦‚structçš„æ–¹æ³•ï¼‰ï¼Œ
//æ¥æ”¶è€…ä¸ºå€¼ç±»å‹æ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨æŒ‡é’ˆç±»å‹çš„å˜é‡è°ƒç”¨æ–¹æ³•ï¼Œåè¿‡æ¥åŒæ ·ä¹Ÿå¯ä»¥

func (p Person) test03() {
	p.Name = "jack"
	fmt.Println("test03() =", p.Name) // jack
}

func (p *Person) test04() {
	p.Name = "mary"
	fmt.Println("test03() =", p.Name) // mary
}

/* æ€»ç»“
1ï¼‰ä¸ç®¡è°ƒç”¨å½¢å¼å¦‚ä½•ï¼ŒçœŸæ­£å†³å®šæ˜¯å€¼æ‹·è´è¿˜æ˜¯åœ°å€æ‹·è´ï¼Œçœ‹è¿™ä¸ªæ–¹æ³•æ˜¯å’Œå“ªä¸ªç±»å‹é„‰å®š
	A. å¦‚æœæ˜¯å’Œå€¼ç±»å‹ï¼Œæ¯”å¦‚ (p Person) ,åˆ™æ˜¯å€¼æ‹·è´ï¼Œ
	B. å¦‚æœæ˜¯æŒ‡é’ˆç±»å‹ï¼Œæ¯”å¦‚ (p *Person) ,åˆ™æ˜¯åœ°å€æ‹·è´ã€‚
*/

func main() {

	p := Person{"tom"}
	test01(p)
	test02(&p)

	p.test03()
	fmt.Println("main() p.name=", p.Name) // tom

	(&p).test03() // ä»å½¢å¼ä¸Šæ˜¯ä¼ å…¥åœ°å€ï¼Œä½†æ˜¯æœ¬è´¨ä»ç„¶æ˜¯å€¼æ‹·è´

	fmt.Println("main() p.name=", p.Name) // tom

	(&p).test04()
	fmt.Println("main() p.name=", p.Name) // mary
	p.test04()                            // ç­‰ä»· (&p).test04 , ä»å½¢å¼ä¸Šæ˜¯ä¼ å…¥å€¼ç±»å‹ï¼Œä½†æ˜¯æœ¬è´¨ä»ç„¶æ˜¯åœ°å€æ‹·è´

}
